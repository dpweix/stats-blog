{
  "hash": "29569603dbfc6a1007339e6fb77dab6b",
  "result": {
    "markdown": "---\ntitle: \"Intro to Plotly\"\nauthor: \"Derek Weix\"\ndate: \"2022-06-06\"\ncategories: [news, code, analysis]\nimage: \"image.jpg\"\n---\n\n\n## What is `plotly`?\n\nThere are many ways to visualize data in `R`. Most users default to either base graphics or `ggplot2`; however, `plotly` is also an option. The main advantage of `plotly` is that it can make graphics interactive. For example, if you hover your mouse near a point you can get its exact coordinates. Another example is zooming into a specific region on a plot.\n\n![](image.png)\n\nI know that many people are now thinking about `shiny`, but these packages provide different services. A `shiny` application allows for more customization and in depth interactivity; however, it must always be supported by a live `R` session. In `plotly` there is no need for a live `R` session. It is a more lightweight service.\n\n## Comparison to `ggplot2`\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(\"tidyverse\")\ntheme_set(theme_bw())\nlibrary(\"plotly\")\n```\n:::\n\n\nThe function `plot_ly` allows the user to create `plotly` objects. However, no need to worry about learning an entirely new syntax for graphical objects. Fortunately for us, `ggplot2` objects can be directly converted into `plotly` objects with the `ggplotly` function.\n\nLet us consider a box plot using the `mtcars` data set in `R`. In the code below we visualize `mpg` by `cyl`.\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Create and save ggplot2 object\nmy_plot <- \n  mtcars |> \n  mutate(cyl = as_factor(cyl)) |> \n  ggplot(aes(cyl, mpg)) +\n  geom_boxplot()\n\n# Plot ggplot2 object\nmy_plot\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-2-1.png){width=672}\n:::\n:::\n\n\nNotice the differences and similarities between the `ggplot2` and `plotly` objects. Graphically they are identical; however, when we hover our mouse over the `plotly` version we are greeted with information and options. For instance, we can zoom into a single boxplot, get the exact numerical values, and save an image our altered plot.\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Convert ggplot2 object to plotly object\nggplotly(my_plot)\n```\n\n::: {.cell-output-display}\n```{=html}\n<div id=\"htmlwidget-ac6ba8209c457b926716\" style=\"width:100%;height:464px;\" class=\"plotly html-widget\"></div>\n<script type=\"application/json\" data-for=\"htmlwidget-ac6ba8209c457b926716\">{\"x\":{\"data\":[{\"x\":[2,2,2,2,2,2,2,1,1,1,1,1,1,1,1,1,1,1,3,3,3,3,3,3,3,3,3,3,3,3,3,3],\"y\":[21,21,17.8,21.4,18.1,19.2,19.7,22.8,22.8,24.4,21.5,30.4,33.9,26,30.4,32.4,21.4,27.3,18.7,17.3,14.3,14.7,10.4,16.4,19.2,15.2,15.2,10.4,15.8,15.5,15,13.3],\"hoverinfo\":\"y\",\"type\":\"box\",\"fillcolor\":\"rgba(255,255,255,1)\",\"marker\":{\"opacity\":null,\"outliercolor\":\"rgba(0,0,0,1)\",\"line\":{\"width\":1.88976377952756,\"color\":\"rgba(0,0,0,1)\"},\"size\":5.66929133858268},\"line\":{\"color\":\"rgba(51,51,51,1)\",\"width\":1.88976377952756},\"showlegend\":false,\"xaxis\":\"x\",\"yaxis\":\"y\",\"frame\":null}],\"layout\":{\"margin\":{\"t\":26.2283105022831,\"r\":7.30593607305936,\"b\":40.1826484018265,\"l\":37.2602739726027},\"plot_bgcolor\":\"rgba(255,255,255,1)\",\"paper_bgcolor\":\"rgba(255,255,255,1)\",\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":14.6118721461187},\"xaxis\":{\"domain\":[0,1],\"automargin\":true,\"type\":\"linear\",\"autorange\":false,\"range\":[0.4,3.6],\"tickmode\":\"array\",\"ticktext\":[\"4\",\"6\",\"8\"],\"tickvals\":[1,2,3],\"categoryorder\":\"array\",\"categoryarray\":[\"4\",\"6\",\"8\"],\"nticks\":null,\"ticks\":\"outside\",\"tickcolor\":\"rgba(51,51,51,1)\",\"ticklen\":3.65296803652968,\"tickwidth\":0.66417600664176,\"showticklabels\":true,\"tickfont\":{\"color\":\"rgba(77,77,77,1)\",\"family\":\"\",\"size\":11.689497716895},\"tickangle\":-0,\"showline\":false,\"linecolor\":null,\"linewidth\":0,\"showgrid\":true,\"gridcolor\":\"rgba(235,235,235,1)\",\"gridwidth\":0.66417600664176,\"zeroline\":false,\"anchor\":\"y\",\"title\":{\"text\":\"cyl\",\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":14.6118721461187}},\"hoverformat\":\".2f\"},\"yaxis\":{\"domain\":[0,1],\"automargin\":true,\"type\":\"linear\",\"autorange\":false,\"range\":[9.225,35.075],\"tickmode\":\"array\",\"ticktext\":[\"10\",\"15\",\"20\",\"25\",\"30\",\"35\"],\"tickvals\":[10,15,20,25,30,35],\"categoryorder\":\"array\",\"categoryarray\":[\"10\",\"15\",\"20\",\"25\",\"30\",\"35\"],\"nticks\":null,\"ticks\":\"outside\",\"tickcolor\":\"rgba(51,51,51,1)\",\"ticklen\":3.65296803652968,\"tickwidth\":0.66417600664176,\"showticklabels\":true,\"tickfont\":{\"color\":\"rgba(77,77,77,1)\",\"family\":\"\",\"size\":11.689497716895},\"tickangle\":-0,\"showline\":false,\"linecolor\":null,\"linewidth\":0,\"showgrid\":true,\"gridcolor\":\"rgba(235,235,235,1)\",\"gridwidth\":0.66417600664176,\"zeroline\":false,\"anchor\":\"x\",\"title\":{\"text\":\"mpg\",\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":14.6118721461187}},\"hoverformat\":\".2f\"},\"shapes\":[{\"type\":\"rect\",\"fillcolor\":\"transparent\",\"line\":{\"color\":\"rgba(51,51,51,1)\",\"width\":0.66417600664176,\"linetype\":\"solid\"},\"yref\":\"paper\",\"xref\":\"paper\",\"x0\":0,\"x1\":1,\"y0\":0,\"y1\":1}],\"showlegend\":false,\"legend\":{\"bgcolor\":\"rgba(255,255,255,1)\",\"bordercolor\":\"transparent\",\"borderwidth\":1.88976377952756,\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":11.689497716895}},\"hovermode\":\"closest\",\"barmode\":\"relative\"},\"config\":{\"doubleClick\":\"reset\",\"modeBarButtonsToAdd\":[\"hoverclosest\",\"hovercompare\"],\"showSendToCloud\":false},\"source\":\"A\",\"attrs\":{\"6961107bfebd\":{\"x\":{},\"y\":{},\"type\":\"box\"}},\"cur_data\":\"6961107bfebd\",\"visdat\":{\"6961107bfebd\":[\"function (y) \",\"x\"]},\"highlight\":{\"on\":\"plotly_click\",\"persistent\":false,\"dynamic\":false,\"selectize\":false,\"opacityDim\":0.2,\"selected\":{\"opacity\":1},\"debounce\":0},\"shinyEvents\":[\"plotly_hover\",\"plotly_click\",\"plotly_selected\",\"plotly_relayout\",\"plotly_brushed\",\"plotly_brushing\",\"plotly_clickannotation\",\"plotly_doubleclick\",\"plotly_deselect\",\"plotly_afterplot\",\"plotly_sunburstclick\"],\"base_url\":\"https://plot.ly\"},\"evals\":[],\"jsHooks\":[]}</script>\n```\n:::\n:::\n\n\n## Use Cases\n\nThe interactive use of `plotly` only shines in interactive mediums. Thus, if your graphic is only going to appear in a pdf, using plotly does not help. However, presentations in html format or jupyter notebooks, can be made more informative. This document is only a bare minimum introduction to `plotly`, but I hope that it can contextualize its use for the average `R` user.\n",
    "supporting": [
      "index_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<script src=\"../../site_libs/htmlwidgets-1.5.4/htmlwidgets.js\"></script>\n<script src=\"../../site_libs/plotly-binding-4.10.0/plotly.js\"></script>\n<script src=\"../../site_libs/typedarray-0.1/typedarray.min.js\"></script>\n<script src=\"../../site_libs/jquery-3.5.1/jquery.min.js\"></script>\n<link href=\"../../site_libs/crosstalk-1.2.0/css/crosstalk.min.css\" rel=\"stylesheet\" />\n<script src=\"../../site_libs/crosstalk-1.2.0/js/crosstalk.min.js\"></script>\n<link href=\"../../site_libs/plotly-htmlwidgets-css-2.5.1/plotly-htmlwidgets.css\" rel=\"stylesheet\" />\n<script src=\"../../site_libs/plotly-main-2.5.1/plotly-latest.min.js\"></script>\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}